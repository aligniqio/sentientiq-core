<script>
// CORRECT LOADING ORDER: Detection FIRST, then Interventions
(function() {
  // Check if already loaded
  if (window.SentientIQ_loaded) return;
  window.SentientIQ_loaded = true;

  // Store in localStorage
  localStorage.setItem('tenantId', 'sidk');
  localStorage.setItem('apiKey', 'sq_live_sidk_test');

  // Load detection FIRST
  var detect = document.createElement('script');
  detect.src = 'https://sentientiq.ai/detect-v4.js?tenant=sidk&key=sq_live_sidk_test';
  detect.onload = function() {
    console.log('[SentientIQ] Detection loaded');

    // THEN load interventions after detection is ready
    var interventions = document.createElement('script');
    interventions.src = 'https://sentientiq.ai/interventions-v4.js?tenant=sidk&key=sq_live_sidk_test';
    interventions.onload = function() {
      console.log('[SentientIQ] Interventions loaded');
      console.log('[SentientIQ] System fully initialized');
    };
    document.head.appendChild(interventions);
  };
  document.head.appendChild(detect);
})();
</script>